##### linux 常见面试命令

1. 查看当前进程：ps；   退出：exit；  当前路径：pwd。

2. 怎么执行睡眠? 先用#cat /sys/power/state查看支持哪种方式；再用echo standby > /sys/power/state就可以了（或mem，disk）；

3. 查看当前用户id： whoami ；帮助：man

4. 查看当前目录下的文件和文件夹：ls
参数：         -a    全部文件
              -d    只显示目录
              -l     详细信息
              -n    列出UID怀GID
              -r     反序
              -t     按时间排序

5.  建立软链接(快捷方式)，以及硬链接的命令。

创建硬链接命令： ln file filenew 删除原文件，只会减少链接数，为0时才删除。

创建软链接命令： ln -s file filenew 删除原文件，彻底删除，并且链接失效。    

硬链接和软链接有什么区别？

从使用的角度讲，两者没有任何区别，都与正常的文件访问方式一样，支持读写，如果是可执行文件的话也可以直接执行。

区别在底层的原理上：

硬链接： 与普通文件没什么不同，inode(相当于一个指针)都指向同一个文件在硬盘中的区块。删除硬链接依然可以访问到原来的那个文件。

软链接： 保存了其代表的文件的绝对路径，是另外一种文件，在硬盘上有独立的区块，访问时替换自身路径。

6. 文件权限修改用什么命令？格式是怎么样的？ 命令：chmod 777 file

7. 查看文件内容有哪些命令可以使用？vi、vim、cat、more、head、tail

8. 打印某个文件的某一行。
   sed -n '5,10p' filename

9. 目录创建用什么命令？创建文件用什么命令？复制文件用什么命令？
    创建目录：mkdir；
    创建文件：vim，cat；
    复制文件：cp

10. 随意写文件命令？怎么向屏幕输出带空格的字符串，比如”hello world”?
    随意写文件命令：cat；
    屏幕输出：echo。

11. 移动文件用哪个命令？改名用哪个命令？
    移动文件：mv；改名：mv。

12. 复制文件用哪个命令？如果需要连同文件夹一块复制呢？如何需要有提示功能呢？  cp；加-r递归复制； 不添加-f参数。

13. 删除文件用哪个命令？如果需要连目录及目录下文件一块删除呢？删除空文件夹用什么命令？ 删除用rm；加-r 递归删除（删除文件夹）；rmdir。

14.  Linux下命令有哪几种可使用的通配符？分别代表什么含义?
      \* - 通配符,代表任意字符(0到多个)
      ? - 通配符,代表一个字符
      \` - quote符号,两个\`\`中间为可以先执行的指令 ，返回的结果组成新的命令
      [] - 中间为字符组合


15. 用什么命令对一个文件的内容进行统计？(行号、单词数、字节数)
    wc命令：
    - c 统计字节数。
    - l 统计行数。
    - w 统计单词的个数。

16. Grep命令有什么用？ 如何忽略大小写？ 如何查找不含该串的行?
    作用：查找；忽略大小写：-I；查找不含该串的行：-v

17. 利用ps怎么显示所有的进程? 怎么利用ps查看指定进程的信息？
    使用-A或-e显示所有进程；使用管道接grep命令。

18. 怎么使一个命令在后台运行? 使用&在命令后。

19. 哪个命令专门用来查看后台任务? jobs -l

20. 哪个命令专门用来查看后台任务?
    jobs -l

21. 怎么查看系统支持的所有信号？ kill -l

22. 搜索文件用什么命令? 格式是怎么样的?
    whereis    加参数与文件名
    locate       只加文件名
    find          直接搜索磁盘，较慢。
    -size 文件大小    +/-
    -mtime 文件时间   +/-

23. 查看当前谁在使用该主机用什么命令? 查找自己所在的终端信息用什么命令?
    查看谁在使用：w；
    查找自己所在终端：who -a？

24. 使用什么命令查看用过的命令列表? history

25. 使用什么命令查看磁盘使用空间？ 空闲空间呢?
    查看磁盘使用空间：df -h；
    空闲空间：df -h。

    查看某个文件或目录占用磁盘空间的大小？
    du 不带参数du的命令，可以循环列出所有文件和文件夹所使用的空间

    -h 表示使用「Human-readable」的输出，也就是在档案系统大小使用 GB、MB 等易读的格式。    

    --max-depth=X,  显示文件的深度

例如：

du -h --max-depth=1 work/testing 显示文件夹的大小

du -h --max-depth=1 work/testing/* 显示文件夹下的文件的大小

du和df命令异同：

du 统计文件大小相加     

df  统计数据块使用情况

如果有一个进程在打开一个大文件的时候,这个大文件直接被rm 或者mv掉，则du会更新统计数值，df不会更新统计数值,还是认为空间没有释放。直到这个打开大文件的进程被Kill掉。

查看linux文件目录的大小和**文件夹包含的文件数**

du -sh xmldb/ 统计文件的大小

du | wc -l 统计某个文件夹下面的文件的数目。

du -sm * | sort -n //统计当前目录大小 并安大小 排序

du -h --max-depth=0 * 查看当前目录下，所有文件的大小。

26.  使用什么命令查看ip地址及接口信息？
     ifconfig

27. 查看各类环境变量用什么命令?
    env

28. 如何查看当前的Linux服务器的运行级别？
答: ‘who -r’ 和 ‘runlevel’ 命令可以用来查看当前的Linux服务器的运行级别。

29. 怎么对命令进行取别名？
    alias lm='ls -l | more'
    unalias lm

30. 如何查看Linux的默认网关？

答: 用 “route -n” 和 “netstat -nr” 命令，我们可以查看默认网关。除了默认的网关信息，这两个命令还可以显示当前的路由表。

[系统命令](http://www.infoq.com/cn/news/2015/12/linux-performance)

uptime 查看机器的负载情况。命令的输出分别表示1分钟、5分钟、15分钟的平均负载情况。通过这三个数据，可以了解服务器负载是在趋于紧张还是区域缓解。

dmesg | tail 该命令会输出系统日志的最后10行。

vmstat 1 每行会输出一些系统核心指标，这些指标可以让我们更详细的了解系统状态。后面跟的参数1，表示每秒输出一次统计信息，表头提示了每一列的含义。

mpstat -P ALL 1

该命令可以显示每个CPU的占用情况，如果有一个CPU占用率特别高，那么有可能是一个单线程应用程序引起的。

pidstat 1 : 输出进程的CPU占用率

iostat -xz  主要用于查看机器磁盘IO情况。

free –m 查看系统内存的使用情况。

top  包含了前面好几个命令的检查的内容。比如系统负载情况（uptime）、系统内存使用情况（free）、系统CPU使用情况（vmstat）等。因此通过这个命令，可以相对全面的查看系统负载的来源。同时，top命令支持排序，可以按照不同的列排序，方便查找出诸如内存占用最多的进程、CPU占用率最高的进程等。

再按 1 ，查看 cpu 的核的情况。


31. 查看操作系统进程的阻塞状态？

ps工具标识进程的5种状态码:
  D 不可中断 uninterruptible sleep (usually IO)
  R 运行 runnable (on run queue)
  S 中断 sleeping
  T 停止 traced or stopped
  Z 僵死 a defunct ("zombie") process

其它状态还包括 W(无驻留页), < (高优先级进程), N(低优先级进程), L(内存锁页).

查看进程状态  ps -aux

程序树的程序显示 (显示进程下有哪些子进程) ps -axjf

ps格式输出来查看进程状态:

ps -eo user,stat..,cmd

user 用户名
uid 用户号
pid 进程号
ppid 父进程号
size 内存大小, Kbytes字节.
vsize 总虚拟内存大小, bytes字节(包含code+data+stack)
share 总共享页数
nice 进程优先级(缺省为0, 最大为-20)
priority(pri) 内核调度优先级
pmem 进程分享的物理内存数的百分比
trs 程序执行代码驻留大小
rss 进程使用的总物理内存数, Kbytes字节
time 进程执行起到现在总的CPU暂用时间
stat 进程状态
cmd(args) 执行命令的简单格式
